@tailwind base;
@tailwind components;
@tailwind utilities;

/* Rush Dashboard - Default Dark Theme */
:root {
  --bg0: #0B0D13;
  --bg1: #111318;
  --bg2: #181B24;
  --bg3: #1F2331;
  --bg4: #272C3D;
  --bg: #111318;
  --card: #181B24;
  --accent: #6366F1;
  --border: rgba(255,255,255,0.06);
  --border2: rgba(255,255,255,0.1);
  --t1: #F0F1F5;
  --t2: #9499AD;
  --t3: #5C6178;
  --blue: #4E8EF7;
  --blue-g: rgba(78,142,247,0.12);
  --green: #34D399;
  --green-g: rgba(52,211,153,0.1);
  --red: #F87171;
  --red-g: rgba(248,113,113,0.1);
  --amber: #FBBF24;
  --amber-g: rgba(251,191,36,0.1);
  --purple: #A78BFA;
  --purple-g: rgba(167,139,250,0.1);
  --cyan: #22D3EE;
  --cyan-g: rgba(34,211,238,0.1);
  --orange: #FB923C;
  --orange-g: rgba(251,146,60,0.1);
  --r: 12px;
  --r2: 16px;
  --font: 'DM Sans', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  --mono: 'JetBrains Mono', 'Fira Code', monospace;
}

/* Light Theme Variables */
.rush-dashboard.light {
  --bg0: #F5F7FA;
  --bg1: #FFFFFF;
  --bg2: #F0F2F5;
  --bg3: #E4E7EC;
  --bg4: #D0D5DD;
  --bg: #FFFFFF;
  --card: #F0F2F5;
  --accent: #4F46E5;
  --border: rgba(0,0,0,0.08);
  --border2: rgba(0,0,0,0.12);
  --t1: #101828;
  --t2: #475467;
  --t3: #98A2B3;
  --blue: #2563EB;
  --blue-g: rgba(37,99,235,0.1);
  --green: #059669;
  --green-g: rgba(5,150,105,0.1);
  --red: #DC2626;
  --red-g: rgba(220,38,38,0.1);
  --amber: #D97706;
  --amber-g: rgba(217,119,6,0.1);
  --purple: #7C3AED;
  --purple-g: rgba(124,58,237,0.1);
  --cyan: #0891B2;
  --cyan-g: rgba(8,145,178,0.1);
  --orange: #EA580C;
  --orange-g: rgba(234,88,12,0.1);
}

* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: var(--font);
  background: var(--bg0);
  color: var(--t1);
  height: 100vh;
  overflow: hidden;
}

/* Apply theme colors dynamically */
.rush-dashboard {
  background: var(--bg0);
  color: var(--t1);
  min-height: 100vh;
}

.rush-dashboard.light .sidebar,
.rush-dashboard.light .topbar,
.rush-dashboard.light .modal {
  background: var(--bg1);
}

.rush-dashboard.light .stat,
.rush-dashboard.light .bill-card,
.rush-dashboard.light .counter-row,
.rush-dashboard.light .kanban-col,
.rush-dashboard.light .sack,
.rush-dashboard.light .daybook-container,
.rush-dashboard.light .s-card {
  background: var(--bg1);
  border-color: var(--border);
}

/* SIDEBAR */
.sidebar {
  position: fixed; left: 0; top: 0; bottom: 0; width: 240px;
  background: var(--bg1); border-right: 1px solid var(--border);
  display: flex; flex-direction: column; z-index: 100;
}
.brand { padding: 18px 20px; border-bottom: 1px solid var(--border); display: flex; align-items: center; gap: 10px; }
.brand-icon {
  width: 36px; height: 36px; border-radius: 10px;
  background: linear-gradient(135deg, var(--blue), var(--purple));
  display: flex; align-items: center; justify-content: center;
  font-size: 16px; font-weight: 800; color: #fff;
}
.brand h2 { font-size: 15px; font-weight: 700; }
.brand span { font-size: 11px; color: var(--t3); }
.nav { flex: 1; padding: 10px 8px; overflow-y: auto; }
.nav-label { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: var(--t3); padding: 14px 12px 6px; }
.nav-item {
  display: flex; align-items: center; gap: 10px; padding: 10px 12px;
  border-radius: var(--r); cursor: pointer; font-size: 13px; font-weight: 500;
  color: var(--t2); transition: all .15s; margin-bottom: 1px; position: relative;
}
.nav-item:hover { background: rgba(255,255,255,.03); color: var(--t1); }
.nav-item.active { background: var(--blue-g); color: var(--blue); }
.nav-item.active::before {
  content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
  width: 3px; height: 18px; background: var(--blue); border-radius: 0 3px 3px 0;
}
.nav-icon { font-size: 15px; width: 20px; text-align: center; }
.nav-badge {
  margin-left: auto; font-size: 10px; font-weight: 700; padding: 2px 7px;
  border-radius: 10px; min-width: 20px; text-align: center; color: #fff;
}
.nav-badge.red { background: var(--red); }
.nav-badge.amber { background: var(--amber); color: #000; }
.sidebar-footer { padding: 12px; border-top: 1px solid var(--border); }
.sync-bar {
  display: flex; align-items: center; gap: 8px; padding: 10px 12px;
  background: var(--bg2); border-radius: var(--r); font-size: 11px; color: var(--t2);
}
.sync-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); animation: pulse 2s infinite; }
.sync-dot.offline { background: var(--red); animation: none; }
@keyframes pulse { 0%,100%{box-shadow:0 0 0 0 rgba(52,211,153,.4)} 50%{box-shadow:0 0 0 5px rgba(52,211,153,0)} }

/* TOPBAR */
.topbar {
  position: fixed; top: 0; left: 240px; right: 0; height: 56px;
  background: var(--bg1); border-bottom: 1px solid var(--border);
  display: flex; align-items: center; padding: 0 20px; z-index: 90; gap: 12px;
}
.page-title { font-size: 16px; font-weight: 700; flex: 1; display: flex; align-items: center; gap: 10px; }
.live { display: inline-flex; align-items: center; gap: 5px; font-size: 11px; font-weight: 600; color: var(--green); }
.live-dot { width: 7px; height: 7px; border-radius: 50%; background: var(--green); animation: pulse 1.5s infinite; }

/* Tally Companies Badge */
.tally-companies-badge {
  display: flex; align-items: center; gap: 6px; padding: 5px 12px;
  background: rgba(34,197,94,0.1); border: 1px solid rgba(34,197,94,0.3);
  border-radius: 20px; font-size: 11px; white-space: nowrap;
}
.tcb-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--green); flex-shrink: 0; animation: pulse 2s infinite; }
.tcb-count { font-weight: 700; color: var(--green); }
.tcb-names { color: var(--t2); font-weight: 500; max-width: 300px; overflow: hidden; text-overflow: ellipsis; }

.search-box {
  background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r);
  padding: 7px 12px 7px 32px; color: var(--t1); font-size: 12px; width: 240px;
  font-family: var(--font); outline: none; transition: border .2s;
}
.search-box:focus { border-color: var(--blue); }
.mode-tog { display: flex; background: var(--bg2); border-radius: var(--r); border: 1px solid var(--border); overflow: hidden; }
.mode-tog button {
  padding: 7px 14px; font-size: 11px; font-weight: 600; border: none;
  background: transparent; color: var(--t3); cursor: pointer; font-family: var(--font);
}
.mode-tog button.active { background: var(--blue); color: #fff; }
.top-btn {
  width: 36px; height: 36px; border-radius: var(--r); border: 1px solid var(--border);
  background: var(--bg2); color: var(--t2); cursor: pointer; font-size: 15px;
  display: flex; align-items: center; justify-content: center; position: relative;
}
.top-btn:hover { color: var(--t1); background: var(--bg3); }
.notif-dot { position: absolute; top: 7px; right: 7px; width: 6px; height: 6px; background: var(--red); border-radius: 50%; }
.avatar {
  width: 32px; height: 32px; border-radius: var(--r);
  background: linear-gradient(135deg, var(--blue), var(--cyan));
  display: flex; align-items: center; justify-content: center;
  font-size: 13px; font-weight: 700; cursor: pointer;
}

/* MAIN */
.main-content {
  margin-left: 240px; margin-top: 56px; height: calc(100vh - 56px);
  overflow-y: auto; padding: 20px; scroll-behavior: smooth;
}
.main-content::-webkit-scrollbar { width: 5px; }
.main-content::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 3px; }

/* PAGES */
.page { display: none; animation: fadeUp .25s ease; }
.page.active { display: block; }
@keyframes fadeUp { from{opacity:0;transform:translateY(6px)} to{opacity:1;transform:translateY(0)} }

/* STATS */
.stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 14px; margin-bottom: 20px; }
.stat {
  background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2);
  padding: 18px; position: relative; overflow: hidden; transition: all .2s;
}
.stat:hover { border-color: var(--border2); transform: translateY(-1px); }
.stat::before { content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px; }
.stat.blue::before { background: var(--blue); }
.stat.green::before { background: var(--green); }
.stat.red::before { background: var(--red); }
.stat.amber::before { background: var(--amber); }
.stat.purple::before { background: var(--purple); }
.stat.cyan::before { background: var(--cyan); }
.stat-top { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
.stat-label { font-size: 12px; color: var(--t2); font-weight: 500; }
.stat-ic {
  width: 32px; height: 32px; border-radius: 8px; display: flex;
  align-items: center; justify-content: center; font-size: 14px;
}
.stat-ic.blue { background: var(--blue-g); }
.stat-ic.green { background: var(--green-g); }
.stat-ic.red { background: var(--red-g); }
.stat-ic.amber { background: var(--amber-g); }
.stat-val { font-size: 26px; font-weight: 800; font-family: var(--mono); letter-spacing: -1px; }
.stat-sub { font-size: 11px; color: var(--t3); margin-top: 4px; }
.stat-sub .up { color: var(--green); }
.stat-sub .dn { color: var(--red); }

/* SECTION */
.sec-head { display: flex; align-items: center; justify-content: space-between; margin-bottom: 14px; }
.sec-title { font-size: 15px; font-weight: 700; display: flex; align-items: center; gap: 8px; }
.sec-title .cnt { background: var(--bg3); padding: 2px 8px; border-radius: 12px; font-size: 11px; color: var(--t2); }
.tabs { display: flex; gap: 3px; background: var(--bg2); padding: 3px; border-radius: var(--r); border: 1px solid var(--border); }
.tab {
  padding: 6px 12px; border-radius: 8px; font-size: 11px; font-weight: 600;
  color: var(--t3); cursor: pointer; border: none; background: transparent; font-family: var(--font);
}
.tab.active { background: var(--blue); color: #fff; }
.tab:hover:not(.active) { color: var(--t2); }
.btn {
  display: inline-flex; align-items: center; gap: 5px; padding: 7px 14px;
  border-radius: var(--r); font-size: 12px; font-weight: 600; cursor: pointer;
  border: none; font-family: var(--font); transition: all .15s;
}
.btn-p { background: var(--blue); color: #fff; }
.btn-p:hover { box-shadow: 0 4px 14px rgba(78,142,247,.25); }
.btn-o { background: transparent; border: 1px solid var(--border); color: var(--t2); }
.btn-o:hover { border-color: var(--border2); color: var(--t1); }

/* BILL CARDS */
.bills-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 12px; }
.bill-card {
  background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2);
  padding: 16px; transition: all .2s; cursor: pointer;
}
.bill-card:hover { border-color: var(--border2); }
.bill-card.unpaid { border-left: 3px solid var(--red); }
.bill-card.paid { border-left: 3px solid var(--green); }
.bill-card.partial { border-left: 3px solid var(--amber); }
.bill-card.credit { border-left: 3px solid var(--purple); }
.bill-top { display: flex; justify-content: space-between; margin-bottom: 12px; }
.bill-party { font-size: 14px; font-weight: 700; }
.bill-inv { font-size: 11px; color: var(--t3); font-family: var(--mono); margin-top: 2px; }
.bill-amt { font-size: 18px; font-weight: 800; font-family: var(--mono); letter-spacing: -.5px; }
.bill-cur { font-size: 11px; color: var(--t3); }
.bill-meta { display: flex; gap: 10px; font-size: 11px; color: var(--t2); margin-bottom: 12px; flex-wrap: wrap; }
.bill-bot { display: flex; justify-content: space-between; align-items: center; padding-top: 12px; border-top: 1px solid var(--border); }
.badge-s {
  display: inline-flex; align-items: center; gap: 4px; padding: 4px 10px;
  border-radius: 14px; font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: .4px;
}
.badge-s.unpaid { background: var(--red-g); color: var(--red); }
.badge-s.paid { background: var(--green-g); color: var(--green); }
.badge-s.partial { background: var(--amber-g); color: var(--amber); }
.badge-s.credit { background: var(--purple-g); color: var(--purple); }
.badge-d { padding: 4px 10px; border-radius: 14px; font-size: 10px; font-weight: 600; }
.badge-d.pending { background: rgba(255,255,255,.04); color: var(--t3); }
.badge-d.packing { background: var(--orange-g); color: var(--orange); }
.badge-d.ready { background: var(--cyan-g); color: var(--cyan); }
.badge-d.done { background: var(--green-g); color: var(--green); }
.badge-d.dispatched { background: var(--green-g); color: var(--green); }
.badge-d.customer_taken { background: var(--green-g); color: var(--green); }
.bill-acts { display: flex; gap: 4px; }
.bill-act {
  width: 28px; height: 28px; border-radius: 8px; border: 1px solid var(--border);
  background: var(--bg3); color: var(--t3); cursor: pointer; font-size: 12px;
  display: flex; align-items: center; justify-content: center;
}
.bill-act:hover { color: var(--t1); }
.bill-act.pay:hover { color: var(--green); border-color: var(--green); background: var(--green-g); }

/* COUNTER */
.counter-list { display: flex; flex-direction: column; gap: 10px; }
.counter-row {
  background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2);
  padding: 20px 24px; display: flex; align-items: center; gap: 16px; animation: slideR .3s ease;
}
@keyframes slideR { from{opacity:0;transform:translateX(-16px)} to{opacity:1;transform:translateX(0)} }
.counter-row.unpaid { border-left: 4px solid var(--red); background: linear-gradient(90deg, rgba(248,113,113,.03), var(--bg2)); }
.counter-row.paid { border-left: 4px solid var(--green); opacity: .55; }
.c-num {
  width: 48px; height: 48px; border-radius: var(--r); background: var(--bg3);
  display: flex; align-items: center; justify-content: center;
  font-size: 18px; font-weight: 800; font-family: var(--mono); color: var(--blue); flex-shrink: 0;
}
.c-info { flex: 1; }
.c-party { font-size: 17px; font-weight: 700; }
.c-inv { font-size: 12px; color: var(--t3); font-family: var(--mono); }
.c-time { font-size: 11px; color: var(--t3); margin-top: 2px; }
.c-amt { font-size: 28px; font-weight: 800; font-family: var(--mono); letter-spacing: -1px; margin-right: 16px; }
.c-btn {
  padding: 14px 32px; border-radius: var(--r); border: none; font-size: 15px;
  font-weight: 700; cursor: pointer; font-family: var(--font); min-width: 130px; transition: all .15s;
}
.c-btn.pay { background: var(--green); color: #000; }
.c-btn.pay:hover { box-shadow: 0 6px 20px rgba(52,211,153,.3); transform: scale(1.02); }
.c-btn.done { background: var(--bg3); color: var(--green); cursor: default; }

/* DISPATCH KANBAN */
.kanban { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; }
.kanban-col { background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2); }
.kanban-head {
  padding: 14px 16px; border-bottom: 1px solid var(--border);
  display: flex; align-items: center; justify-content: space-between;
}
.kanban-title { font-size: 13px; font-weight: 700; display: flex; align-items: center; gap: 7px; }
.dot { width: 9px; height: 9px; border-radius: 50%; }
.dot.amber { background: var(--amber); }
.dot.orange { background: var(--orange); }
.dot.cyan { background: var(--cyan); }
.dot.green { background: var(--green); }
.kanban-cnt { font-size: 11px; color: var(--t3); }
.kanban-body { padding: 10px; display: flex; flex-direction: column; gap: 8px; max-height: 450px; overflow-y: auto; }
.k-item { background: var(--bg3); border: 1px solid var(--border); border-radius: var(--r); padding: 12px; }
.k-item:hover { border-color: var(--border2); }
.k-top { display: flex; justify-content: space-between; margin-bottom: 6px; }
.k-party { font-size: 13px; font-weight: 700; }
.k-amt { font-size: 13px; font-weight: 700; font-family: var(--mono); }
.k-inv { font-size: 10px; color: var(--t3); font-family: var(--mono); margin-bottom: 8px; }
.k-move {
  width: 100%; padding: 7px; border-radius: 8px; border: 1px dashed var(--border2);
  background: transparent; color: var(--t3); font-size: 11px; font-weight: 600;
  cursor: pointer; font-family: var(--font); transition: all .15s;
}
.k-move:hover { background: var(--blue-g); border-color: var(--blue); color: var(--blue); }

/* SACKS */
.sacks-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(360px, 1fr)); gap: 14px; }
.sack { background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2); overflow: hidden; }
.sack-head { padding: 16px 18px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); }
.sack-party { font-size: 15px; font-weight: 700; }
.sack-st { padding: 4px 10px; border-radius: 14px; font-size: 10px; font-weight: 700; }
.sack-st.collecting { background: var(--amber-g); color: var(--amber); }
.sack-st.ready { background: var(--cyan-g); color: var(--cyan); }
.sack-st.dispatched { background: var(--green-g); color: var(--green); }
.sack-body { padding: 14px 18px; }
.sack-label { font-size: 10px; font-weight: 700; color: var(--t3); text-transform: uppercase; letter-spacing: .6px; margin: 10px 0 6px; }
.sack-label:first-child { margin-top: 0; }
.sack-bag {
  display: flex; align-items: center; justify-content: space-between;
  padding: 8px 12px; background: var(--bg3); border-radius: 8px; margin-bottom: 4px; font-size: 12px;
}
.sack-bag .src { display: flex; align-items: center; gap: 6px; }
.bag-cnt { font-weight: 700; font-family: var(--mono); color: var(--blue); }
.sack-bag.out .bag-cnt { color: var(--amber); }
.sack-total {
  display: flex; justify-content: space-between; padding: 10px 12px;
  background: var(--bg3); border-radius: var(--r); margin-top: 12px; font-weight: 700; font-size: 13px;
}
.sack-acts { padding: 12px 18px; border-top: 1px solid var(--border); display: flex; gap: 6px; }
.sack-btn {
  flex: 1; padding: 9px; border-radius: var(--r); border: 1px solid var(--border);
  background: var(--bg3); color: var(--t2); font-size: 11px; font-weight: 600;
  cursor: pointer; font-family: var(--font);
}
.sack-btn:hover { color: var(--t1); }
.sack-btn.pri { background: var(--blue); color: #fff; border-color: var(--blue); }

/* DAYBOOK */
.daybook-container { background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2); overflow: hidden; }
.db-head {
  padding: 16px 20px; border-bottom: 1px solid var(--border);
  display: flex; justify-content: space-between; align-items: center;
}
.db-head input[type=date] {
  background: var(--bg3); border: 1px solid var(--border); border-radius: 8px;
  padding: 5px 10px; color: var(--t1); font-family: var(--mono); font-size: 12px; outline: none;
}
table { width: 100%; border-collapse: collapse; font-size: 12px; }
th {
  background: var(--bg3); padding: 10px 14px; text-align: left;
  font-weight: 700; font-size: 11px; text-transform: uppercase; letter-spacing: .4px;
  color: var(--t3); border-bottom: 1px solid var(--border); position: sticky; top: 0;
}
th.r, td.r { text-align: right; }
td { padding: 10px 14px; border-bottom: 1px solid var(--border); color: var(--t2); }
tr:hover td { background: rgba(255,255,255,.015); }
td.party { color: var(--t1); font-weight: 600; }
td.dr { color: var(--red); font-family: var(--mono); font-weight: 600; }
td.cr { color: var(--green); font-family: var(--mono); font-weight: 600; }
td.bal { color: var(--blue); font-family: var(--mono); font-weight: 700; }
.vt { display: inline-block; padding: 2px 8px; border-radius: 10px; font-size: 10px; font-weight: 600; }
.vt.sales { background: var(--blue-g); color: var(--blue); }
.vt.receipt { background: var(--green-g); color: var(--green); }
.vt.payment { background: var(--red-g); color: var(--red); }
.vt.journal { background: var(--purple-g); color: var(--purple); }
tfoot td { background: var(--bg3); font-weight: 700; color: var(--t1); border-top: 2px solid var(--border2); }
.db-summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 12px; padding: 16px 20px; border-top: 1px solid var(--border); }
.db-sum-item { display: flex; justify-content: space-between; padding: 10px 14px; background: var(--bg3); border-radius: var(--r); }
.db-sum-item .lb { font-size: 12px; color: var(--t2); }
.db-sum-item .vl { font-weight: 700; font-family: var(--mono); font-size: 13px; }

/* SETTINGS */
.settings-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(380px, 1fr)); gap: 16px; }
.s-card { background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r2); }
.s-card-h { padding: 16px 20px; border-bottom: 1px solid var(--border); font-size: 14px; font-weight: 700; display: flex; align-items: center; gap: 8px; }
.s-card-b { padding: 16px 20px; }
.s-row { display: flex; align-items: center; justify-content: space-between; padding: 10px 0; border-bottom: 1px solid var(--border); }
.s-row:last-child { border-bottom: none; }
.s-name { font-size: 13px; font-weight: 600; }
.s-desc { font-size: 11px; color: var(--t3); margin-top: 1px; }
.toggle {
  width: 40px; height: 22px; background: var(--bg3); border-radius: 11px;
  position: relative; cursor: pointer; border: 1px solid var(--border); transition: .2s;
}
.toggle.on { background: var(--blue); border-color: var(--blue); }
.toggle::after {
  content: ''; position: absolute; width: 16px; height: 16px; background: #fff;
  border-radius: 50%; top: 2px; left: 2px; transition: .2s;
}
.toggle.on::after { transform: translateX(18px); }

/* PENDING BILLS LIST */
.pending-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.pending-item {
  background: var(--bg2);
  border: 1px solid var(--border);
  border-radius: var(--r);
  padding: 16px 20px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  transition: all 0.2s ease;
}
.pending-item:hover {
  border-color: var(--border2);
  background: var(--bg3);
}
.pending-left {
  display: flex;
  align-items: flex-start;
  gap: 16px;
  flex: 1;
}
.pending-num {
  width: 32px;
  height: 32px;
  background: var(--amber-g);
  color: var(--amber);
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 12px;
  font-weight: 700;
  font-family: var(--mono);
}
.pending-info {
  flex: 1;
}
.pending-party {
  font-size: 15px;
  font-weight: 600;
  color: var(--t1);
  margin-bottom: 4px;
}
.pending-addr {
  font-weight: 400;
  color: var(--t2);
}
.pending-meta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--t3);
  font-family: var(--mono);
  margin-bottom: 4px;
}
.pending-dot {
  color: var(--t3);
  opacity: 0.5;
}
.pending-inv {
  color: var(--blue);
  font-weight: 500;
}
.pending-date {
  color: var(--t2);
}
.pending-bs {
  color: var(--t3);
  font-family: var(--font);
  font-size: 11px;
}
.pending-ago {
  font-size: 11px;
  color: var(--amber);
  font-weight: 500;
}
.pending-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 10px;
}
.pending-amt {
  font-size: 18px;
  font-weight: 700;
  color: var(--red);
  font-family: var(--mono);
}
.pending-pay-btn {
  padding: 8px 16px;
  background: var(--green);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  display: flex;
  align-items: center;
  gap: 6px;
}
.pending-pay-btn:hover {
  background: #059669;
  transform: translateY(-1px);
}

/* Light theme pending items */
.rush-dashboard.light .pending-item {
  background: var(--bg1);
  border-color: var(--border);
}
.rush-dashboard.light .pending-item:hover {
  background: var(--bg2);
}

/* SIDEBAR PENDING CARD */
.sidebar-pending-card {
  margin: 12px;
  padding: 14px;
  background: linear-gradient(135deg, var(--amber-g) 0%, var(--red-g) 100%);
  border: 1px solid var(--amber);
  border-radius: var(--r);
  cursor: pointer;
  transition: all 0.2s ease;
}
.sidebar-pending-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(251, 146, 60, 0.2);
}
.spc-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}
.spc-icon {
  font-size: 16px;
}
.spc-title {
  font-size: 13px;
  font-weight: 700;
  color: var(--amber);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.spc-stats {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-bottom: 12px;
}
.spc-stat {
  display: flex;
  flex-direction: column;
  gap: 2px;
}
.spc-divider {
  width: 1px;
  height: 30px;
  background: var(--border2);
}
.spc-count {
  font-size: 22px;
  font-weight: 800;
  color: var(--t1);
  font-family: var(--mono);
  line-height: 1;
}
.spc-amount {
  font-size: 14px;
  font-weight: 700;
  color: var(--red);
  font-family: var(--mono);
  line-height: 1.2;
}
.spc-label {
  font-size: 10px;
  color: var(--t3);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}
.spc-btn {
  width: 100%;
  padding: 8px 12px;
  background: var(--amber);
  color: #000;
  border: none;
  border-radius: 6px;
  font-size: 11px;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.2s ease;
}
.spc-btn:hover {
  background: #F59E0B;
}

/* Light theme sidebar pending card */
.rush-dashboard.light .sidebar-pending-card {
  background: linear-gradient(135deg, rgba(217, 119, 6, 0.1) 0%, rgba(220, 38, 38, 0.08) 100%);
}

/* TOTAL VOUCHERS TABLE */
.vouchers-table-wrapper {
  background: var(--bg1);
  border: 1px solid var(--border);
  border-radius: var(--r);
  overflow: hidden;
}
.vouchers-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
}
.vouchers-table thead {
  background: var(--bg2);
  position: sticky;
  top: 0;
  z-index: 10;
}
.vouchers-table th {
  padding: 12px 10px;
  text-align: left;
  font-weight: 600;
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--t3);
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}
.vouchers-table th.r {
  text-align: right;
}
.vouchers-table tbody tr {
  border-bottom: 1px solid var(--border);
  transition: all 0.15s ease;
}
.vouchers-table tbody tr:hover {
  background: var(--bg2);
}
.vouchers-table tbody tr.unpaid-row {
  background: var(--red-g);
}
.vouchers-table tbody tr.unpaid-row:hover {
  background: rgba(248, 113, 113, 0.15);
}
.vouchers-table td {
  padding: 12px 10px;
  vertical-align: middle;
  color: var(--t1);
}
.vouchers-table td.idx {
  font-family: var(--mono);
  font-size: 10px;
  color: var(--t3);
  width: 36px;
}
.vouchers-table td.mono {
  font-family: var(--mono);
  font-size: 10px;
  color: var(--t2);
  max-width: 80px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.vouchers-table td.guid {
  max-width: 120px;
  font-size: 9px;
  color: var(--t3);
}
.vouchers-table td.party-cell {
  font-weight: 500;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
.vouchers-table td.r {
  text-align: right;
}
.vouchers-table td.amt-cell {
  font-family: var(--mono);
  font-weight: 600;
  font-size: 13px;
}
.vouchers-table td.amt-cell.debit {
  color: var(--red);
}
.vouchers-table td.amt-cell.credit {
  color: var(--green);
}
.vouchers-table td.date-cell {
  font-family: var(--mono);
  font-size: 11px;
  color: var(--t2);
  white-space: nowrap;
}
.vouchers-table td.date-cell.nepali {
  font-family: var(--font);
  font-size: 11px;
  color: var(--t3);
}
.vouchers-table td.age-cell {
  white-space: nowrap;
}

/* Sortable Column Headers */
.vouchers-table th.sortable {
  cursor: pointer;
  user-select: none;
  transition: all 0.15s ease;
}
.vouchers-table th.sortable:hover {
  background: var(--bg3);
  color: var(--blue);
}
.vouchers-table th .sort-arrow {
  margin-left: 4px;
  font-size: 9px;
  color: var(--blue);
}

.vt-badge {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}
.vt-badge.sales {
  background: var(--blue-g);
  color: var(--blue);
}
.vt-badge.receipt {
  background: var(--green-g);
  color: var(--green);
}
.vt-badge.payment {
  background: var(--red-g);
  color: var(--red);
}
.vt-badge.journal {
  background: var(--purple-g);
  color: var(--purple);
}
.age-badge {
  display: inline-block;
  padding: 3px 8px;
  border-radius: 4px;
  font-size: 10px;
  font-weight: 600;
}
.age-badge.today {
  background: var(--green-g);
  color: var(--green);
}
.age-badge.recent {
  background: var(--amber-g);
  color: var(--amber);
}
.age-badge.old {
  background: var(--red-g);
  color: var(--red);
}

/* Nav badge colors */
.nav-badge.blue {
  background: var(--blue-g);
  color: var(--blue);
}
.nav-badge.green {
  background: var(--green-g);
  color: var(--green);
}
.nav-badge.cyan {
  background: var(--cyan-g);
  color: var(--cyan);
}

/* Light theme vouchers table */
.rush-dashboard.light .vouchers-table-wrapper {
  background: var(--bg1);
  border-color: var(--border);
}
.rush-dashboard.light .vouchers-table thead {
  background: var(--bg2);
}
.rush-dashboard.light .vouchers-table tbody tr:hover {
  background: var(--bg2);
}

/* MODAL */
.overlay {
  position: fixed; inset: 0; background: rgba(0,0,0,.55); backdrop-filter: blur(6px);
  z-index: 1000; display: none; align-items: center; justify-content: center;
}
.overlay.open { display: flex; }
.modal {
  background: var(--bg1); border: 1px solid var(--border); border-radius: var(--r2);
  width: 500px; max-width: 95vw; max-height: 85vh; overflow-y: auto; box-shadow: 0 8px 40px rgba(0,0,0,.4);
  animation: mIn .25s ease;
}
@keyframes mIn { from{opacity:0;transform:scale(.96) translateY(8px)} to{opacity:1;transform:scale(1) translateY(0)} }
.m-head { padding: 20px 24px 14px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.m-head h3 { font-size: 16px; font-weight: 700; }
.m-close {
  width: 28px; height: 28px; border-radius: 8px; border: 1px solid var(--border);
  background: var(--bg2); color: var(--t3); cursor: pointer; font-size: 14px;
  display: flex; align-items: center; justify-content: center;
}
.m-close:hover { color: var(--t1); }
.m-body { padding: 20px 24px; }
.m-bill {
  background: var(--bg2); border-radius: var(--r); padding: 14px;
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;
}
.m-bill .party { font-weight: 700; font-size: 15px; }
.m-bill .inv { font-size: 11px; color: var(--t3); font-family: var(--mono); margin-top: 2px; }
.m-bill .total { font-size: 22px; font-weight: 800; font-family: var(--mono); }
.pay-label { font-size: 12px; font-weight: 600; color: var(--t2); margin-bottom: 10px; }
.pay-methods { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 20px; }
.pay-m {
  display: flex; flex-direction: column; align-items: center; gap: 6px;
  padding: 14px 6px; border-radius: var(--r); border: 2px solid var(--border);
  background: var(--bg2); cursor: pointer; transition: .15s;
}
.pay-m:hover { border-color: var(--border2); }
.pay-m.sel { border-color: var(--blue); background: var(--blue-g); }
.pay-m-ic { font-size: 22px; width: 40px; height: 40px; border-radius: var(--r); background: var(--bg3); display: flex; align-items: center; justify-content: center; }
.pay-m.sel .pay-m-ic { background: rgba(78,142,247,.15); }
.pay-m-name { font-size: 11px; font-weight: 600; color: var(--t2); }
.pay-m.sel .pay-m-name { color: var(--blue); }
.field { margin-bottom: 10px; }
.field label { display: block; font-size: 11px; font-weight: 600; color: var(--t3); margin-bottom: 4px; }
.field input, .field select {
  width: 100%; background: var(--bg3); border: 1px solid var(--border); border-radius: 8px;
  padding: 9px 12px; color: var(--t1); font-size: 13px; font-family: var(--mono); outline: none;
}
.field input:focus, .field select:focus { border-color: var(--blue); }
.m-foot { padding: 14px 24px 20px; display: flex; gap: 8px; justify-content: flex-end; }
.btn-confirm {
  background: var(--green); color: #000; padding: 10px 24px; border-radius: var(--r);
  border: none; font-size: 13px; font-weight: 700; cursor: pointer; font-family: var(--font);
}
.btn-confirm:hover { box-shadow: 0 4px 14px rgba(52,211,153,.3); }

/* TOASTS */
.toasts { position: fixed; top: 70px; right: 20px; z-index: 500; display: flex; flex-direction: column; gap: 6px; }
.toast {
  background: var(--bg3); border: 1px solid var(--border); border-radius: var(--r);
  padding: 12px 16px; display: flex; align-items: center; gap: 10px;
  box-shadow: 0 8px 30px rgba(0,0,0,.3); animation: toastIn .3s ease; min-width: 300px;
}
@keyframes toastIn { from{opacity:0;transform:translateX(30px)} to{opacity:1;transform:translateX(0)} }
.toast.bill { border-left: 3px solid var(--blue); }
.toast.success { border-left: 3px solid var(--green); }
.toast.error { border-left: 3px solid var(--red); }
.toast-ic { font-size: 18px; }
.toast-title { font-size: 12px; font-weight: 700; }
.toast-msg { font-size: 11px; color: var(--t2); margin-top: 1px; }

/* NOTIF PANEL */
.notif-panel {
  position: fixed; top: 0; right: -360px; bottom: 0; width: 340px;
  background: var(--bg1); border-left: 1px solid var(--border);
  z-index: 200; transition: right .25s ease; display: flex; flex-direction: column;
}
.notif-panel.open { right: 0; }
.np-head { padding: 18px 20px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.np-head h3 { font-size: 15px; font-weight: 700; }
.np-list { flex: 1; overflow-y: auto; padding: 10px; }
.np-item {
  padding: 12px 14px; border-radius: var(--r); margin-bottom: 6px; cursor: pointer;
  border-left: 3px solid transparent; transition: .15s;
}
.np-item:hover { background: var(--bg2); }
.np-item.unread { background: var(--bg2); border-left-color: var(--blue); }
.np-title { font-size: 12px; font-weight: 600; margin-bottom: 3px; }
.np-msg { font-size: 11px; color: var(--t2); line-height: 1.4; }
.np-time { font-size: 10px; color: var(--t3); margin-top: 4px; }

/* ADVANCED ONLY */
[data-mode="simple"] .adv { display: none !important; }

/* MOBILE */
@media (max-width: 768px) {
  .sidebar { width: 0; transform: translateX(-100%); }
  .sidebar.open { width: 240px; transform: translateX(0); }
  .topbar { left: 0; }
  .main-content { margin-left: 0; }
  .mobile-menu-btn { display: flex !important; }
}

/* Loading */
.loading-spinner {
  width: 32px; height: 32px; border: 3px solid var(--border);
  border-top-color: var(--blue); border-radius: 50%; animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }

/* Empty state */
.empty-state {
  color: var(--t3); font-size: 13px; padding: 40px; text-align: center;
  background: var(--bg2); border-radius: var(--r2); border: 1px dashed var(--border2);
}

/* CHAT PANEL */
.chat-panel {
  position: fixed; top: 0; right: -400px; bottom: 0; width: 380px;
  background: var(--bg1); border-left: 1px solid var(--border);
  z-index: 200; transition: right .25s ease; display: flex; flex-direction: column;
}
.chat-panel.open { right: 0; }
.cp-head {
  padding: 14px 16px; border-bottom: 1px solid var(--border);
  display: flex; justify-content: space-between; align-items: center;
}
.cp-title { display: flex; align-items: center; gap: 8px; }
.cp-title h3 { font-size: 14px; font-weight: 700; }
.cp-ai-badge {
  font-size: 9px; font-weight: 800; padding: 2px 6px; border-radius: 6px;
  background: var(--green-g); color: var(--green); letter-spacing: .5px;
}
.cp-actions {
  padding: 10px 12px; border-bottom: 1px solid var(--border);
  display: flex; flex-wrap: wrap; gap: 6px;
}
.cp-action-btn {
  display: inline-flex; align-items: center; gap: 4px;
  padding: 5px 10px; border-radius: 8px; font-size: 11px; font-weight: 600;
  background: var(--bg2); border: 1px solid var(--border); color: var(--t2);
  cursor: pointer; font-family: var(--font); transition: all .15s;
}
.cp-action-btn:hover { border-color: var(--blue); color: var(--blue); background: var(--blue-g); }
.cp-action-btn:disabled { opacity: .5; cursor: not-allowed; }
.cp-action-btn.write { border-color: rgba(251,191,36,.2); }
.cp-action-btn.write:hover { border-color: var(--amber); color: var(--amber); background: var(--amber-g); }

.cp-messages {
  flex: 1; overflow-y: auto; padding: 12px; display: flex; flex-direction: column; gap: 8px;
}
.cp-messages::-webkit-scrollbar { width: 4px; }
.cp-messages::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 2px; }

.cp-msg { max-width: 95%; animation: fadeUp .2s ease; }
.cp-msg-user {
  align-self: flex-end; background: var(--blue); color: #fff;
  padding: 8px 12px; border-radius: 12px 12px 2px 12px; font-size: 12px;
}
.cp-msg-assistant {
  align-self: flex-start; background: var(--bg2); border: 1px solid var(--border);
  padding: 10px 12px; border-radius: 2px 12px 12px 12px;
}
.cp-msg-system {
  align-self: center; background: var(--bg3); color: var(--t2);
  padding: 6px 12px; border-radius: 8px; font-size: 11px; text-align: center;
}
.cp-msg-error {
  align-self: center; background: var(--red-g); color: var(--red);
  padding: 6px 12px; border-radius: 8px; font-size: 11px;
}
.cp-msg-loading { align-self: flex-start; }
.cp-msg-label {
  font-size: 10px; font-weight: 700; color: var(--blue); margin-bottom: 4px;
  text-transform: uppercase; letter-spacing: .5px;
}
.cp-msg-text {
  font-size: 12px; line-height: 1.5; white-space: pre-wrap; word-break: break-word;
  font-family: var(--font); margin: 0; color: var(--t1);
}
.cp-msg-user .cp-msg-text { color: #fff; }

.cp-typing {
  display: flex; gap: 4px; padding: 10px 14px;
  background: var(--bg2); border-radius: 12px; width: fit-content;
}
.cp-typing span {
  width: 6px; height: 6px; border-radius: 50%; background: var(--t3);
  animation: typing 1.2s infinite;
}
.cp-typing span:nth-child(2) { animation-delay: .2s; }
.cp-typing span:nth-child(3) { animation-delay: .4s; }
@keyframes typing { 0%,60%,100%{opacity:.3;transform:translateY(0)} 30%{opacity:1;transform:translateY(-4px)} }

.cp-input-area {
  padding: 10px 12px; border-top: 1px solid var(--border);
  display: flex; gap: 8px; align-items: center;
}
.cp-input {
  flex: 1; background: var(--bg2); border: 1px solid var(--border); border-radius: var(--r);
  padding: 9px 12px; color: var(--t1); font-size: 12px;
  font-family: var(--font); outline: none; transition: border .2s;
}
.cp-input:focus { border-color: var(--blue); }
.cp-input::placeholder { color: var(--t3); }
.cp-send {
  width: 36px; height: 36px; border-radius: var(--r); border: none;
  background: var(--blue); color: #fff; cursor: pointer; font-size: 14px;
  display: flex; align-items: center; justify-content: center; transition: .15s;
  flex-shrink: 0;
}
.cp-send:hover { box-shadow: 0 4px 12px rgba(78,142,247,.3); }
.cp-send:disabled { opacity: .4; cursor: not-allowed; }

/* Nepali font support */
.font-nepali {
  font-family: 'Noto Sans Devanagari', 'Mangal', sans-serif;
}

/* Print styles for Collection Slip */
@media print {
  body * { visibility: hidden !important; }
  .collection-print-slip, .collection-print-slip * {
    visibility: visible !important;
    display: block !important;
  }
  .collection-print-slip {
    position: fixed !important;
    left: 0; top: 0; width: 100%;
    background: #fff !important;
    color: #000 !important;
  }
  .collection-print-slip table { display: table !important; }
  .collection-print-slip thead { display: table-header-group !important; }
  .collection-print-slip tbody { display: table-row-group !important; }
  .collection-print-slip tr { display: table-row !important; }
  .collection-print-slip th, .collection-print-slip td { display: table-cell !important; }
}
